var Phoenix;!function(a){if(angular){var b=a.utils,c=a.ui,d=angular.module("phoenix.ui");d.directive("carousel",[function(){return{scope:{slides:"="},restrict:"E",replace:!0,compile:function(a,d){return{pre:function(a,d,e){a.slides=a.slides||[],a.component=new c.Carousel({}),a.component.props.slides=a.slides,a.component.render(d),a.$on("$destroy",function(){b.log("destroy carousel","scope"),a.component&&a.component.destroy()})},post:function(a,b,c){}}}}}])}}(Phoenix||(Phoenix={}));
//# sourceMappingURL=angular.carousel.js.map
var Phoenix;!function(a){if(angular){var b=a.locale,c=a.ui,d=angular.module("phoenix.ui");d.directive("highcharts",[function(){return{scope:{config:"=",data:"="},restrict:"E",replace:!0,template:'<div style="width:100%; height: 100%;"></div>',link:function(a,b,c){a.$watchGroup(["data","config.type","config.options"],function(){if(a.data){e.constructeDefaultConfig(a),e.constructeChartByType(a,a.config.type),e.constructeData(a),e.constructeUserOptions(a),b.css("height",a.config.height),a.chartConfig.chart.renderTo=b.get(0);var c=new window.Highcharts.Chart(a.chartConfig),d=function(){c&&c.options&&c.reflow()};$(window).on("phoenix-resize",d),a.$on("$destroy",function(){if(c){try{$(window).off("phoenix-resize",d),c.destroy(),c=null}catch(a){}window.setTimeout(function(){b.remove()},0)}})}},!0)}}}]);var e={constructeDefaultConfig:function(a){c.translateHighcharts(),a.config.type=a.config.type||"pie",a.chartConfig={chart:{type:a.config.type,plotBackgroundColor:null,plotBorderWidth:0,plotShadow:!1,reflow:!0},tooltip:{pointFormat:g.addToolTipPointFormat(a.config,"<b>{point.y:,.2f} "+b.number.symbol+"</b>"),headerFormat:g.addToolTipHeaderFormat(a.config,"point.key"),style:{padding:10,fontWeight:"bold"}},legend:{itemStyle:{cursor:"default"}},credits:{enabled:!1},lang:{decimalPoint:b.number.decimal},plotOptions:{series:{allowPointSelect:!1}},colors:[],series:[],title:{text:""}},a.chartConfig.plotOptions[a.config.type]={allowPointSelect:!0,cursor:"pointer",dataLabels:g.addLabel(a.config,"{point.percentage:,.2f}%"),showInLegend:!0,events:{legendItemClick:function(a){return!1}},point:{events:{legendItemClick:function(a){return!1}}},size:a.config.size||"50%"},a.colors=a.config.colors&&Array.isArray(a.config.colors)?a.config.colors:["#f03558","#fad32d","#45cebd","#f99f46","#6A5ACD","#A0522D","#000000","#696969"],a.chartConfig.colors=a.colors},constructeChartByType:function(a,c){switch(c){case"column":a.chartConfig.tooltip.headerFormat=g.addToolTipHeaderFormat(a.config,"series.name"),a.chartConfig.plotOptions.column.dataLabels=g.addLabel(a.config,"{point.y:,.0f} "+b.number.symbol),a.chartConfig.xAxis={gridLineWidth:0,minorGridLineWidth:0,title:{text:null},labels:{enabled:!0},minorTickLength:0,tickLength:0},a.chartConfig.yAxis={min:0,margin:[0,0,0,0],gridLineWidth:2,gridLineDashStyle:"Dot",title:{text:null,style:{display:"none"},margin:[0,0,0,0]}};break;case"columnrange":a.chartConfig.chart.inverted=!0,a.chartConfig.tooltip={pointFormat:g.addToolTipPointFormat(a.config,"{point.low:%d/%m/%Y} - {point.high:%d/%m/%Y}"),style:{padding:10,fontWeight:"bold"}},a.chartConfig.exporting={enabled:!1},a.chartConfig.legend=a.chartConfig.legend||{},a.chartConfig.legend.enabled=!1,a.chartConfig.plotOptions.columnrange.dataLabels=g.addLabel(a.config,"point.y:%d/%m/%Y"),a.chartConfig.plotOptions.columnrange.colorByPoint=!0,a.chartConfig.plotOptions.columnrange.borderWidth=0,a.chartConfig.xAxis={gridLineWidth:2,gridLineDashStyle:"Dot"},a.chartConfig.yAxis={title:{text:null},type:"datetime",tickInterval:31536e6,minorTickInterval:31536e6,dateTimeLabelFormats:{year:"%Y"},gridLineWidth:5,gridLineColor:"#eee"};var d=new Date;a.chartConfig.yAxis.plotLines=[{color:"#747679",width:2,value:d}]}},constructeUserOptions:function(a){a.config.options&&(a.chartConfig=g.addOptions(a.chartConfig,a.config.options))},constructeData:function(a){a.chartConfig.xAxis=a.chartConfig.xAxis||{},a.chartConfig.xAxis.categories=[],a.data.series?a.chartConfig.series=a.data.series:a.data.rows?(a.chartConfig.data=a.chartConfig.data||{},a.chartConfig.data.firstRowAsNames=!1,a.chartConfig.data.rows=a.data.rows||[],a.chartConfig.series=[],a.data.cols.slice(1).forEach(function(b){a.chartConfig.series.push({name:b.label})})):a.data.datapoints&&(a.chartConfig.series=f.formateDatapoints(a.data)),(a.data.datapoints||a.data.series)&&a.chartConfig.series>1&&a.chartConfig.series.forEach(function(b){a.chartConfig.xAxis.categories.push(b.name)})}},f={formateDatapoints:function(a){if(!a.datapoints.length)return b;var b=[];return a.datapoints[0].length>2?a.datapoints.forEach(function(a){var c=-1;b.forEach(function(b,d){if(b.name==a[0])return c=d}),c>-1?b[c].data.push([a[1],a[2]]):b.push({name:a[0],data:[[a[1],a[2]]]})}):(b[0]={name:"",data:[]},a.datapoints.forEach(function(a){b[0].data.push([a[0],a[1]])})),b}},g={addToolTipHeaderFormat:function(a,b){return a.tooltip&&a.tooltip.headerFormat?a.tooltip.headerFormat:'<span style="font-size: 11px;font-weight:normal">{'+b+"}</span><br/>"},addToolTipPointFormat:function(a,b){return a.tooltip&&a.tooltip.pointFormat?a.tooltip.pointFormat:b},addLabel:function(a,b){return a.label?{enabled:"undefined"==typeof a.label.visible||a.label.visible,format:a.label.format||b}:{enabled:!0,format:b}},addOptions:function(a,b){if(angular.isArray(b)){a=angular.isArray(a)?a:[];for(var c=0;c<b.length;c++)a[c]=this.addOptions(a[c]||{},b[c])}else if(angular.isObject(b))for(var d in b)a[d]=this.addOptions(a[d]||{},b[d]);else a=b;return a}}}}(Phoenix||(Phoenix={}));
//# sourceMappingURL=angular.chart.controller.js.map
var Phoenix;!function(a){if(angular){var b=a.customData,c=angular.module("phoenix.ui");c.controller("uiWidgetPhoenixchartController",["$scope",function(a){a.chart=a.props.data.chart||{},a.chart.search=a.chart.search||!1,a.props.data.chart.height=a.chart.height||a.props.$height-(a.props.data.chart.search?30:0);var c=a.chart.dataset||"dataset";a.$watch("data."+c,function(){if(a.data&&a.data[c]){if(a.data[c].cols){var d=a.data.view&&a.data.view[c]?a.data.view[c]:null;a.data[c].cols.forEach(function(a){a.label=d&&d[a.name]&&d[a.name].title?d[a.name].title:a.label||a.name})}var e=b.get("highcharts.transform."+a.chart.transformData);e?a.series=e(a.data[c].documents||a.data[c],a):a.series=a.data[c]}}),a.chart.options=a.chart.options||{},a.phone&&a.chart.axeXInvisible&&(a.chart.options.xAxis=a.chart.options.xAxis||{},a.chart.options.xAxis.labels={enabled:!1})}]),c.directive("widgetPhoenixchart",[function(){return{scope:{props:"=",data:"=",module:"=",phone:"="},restrict:"E",controller:"uiWidgetPhoenixchartController",template:'<select class="form-control" ng-show="chart.search" ng-model="props.data.chart.type"><option>pie</option><option>column</option></select><highcharts config="props.data.chart" data="series"></highcharts>'}}])}}(Phoenix||(Phoenix={}));
//# sourceMappingURL=angular.main.js.map
var Phoenix;!function(a){if(angular){var b=a.utils,c=(a.render,a.ui),d=function(){var a=this;b.log("destroy form","scope"),a.component&&a.component.destroy()},e=angular.module("phoenix.ui");e.controller("uiFormController",["$scope",function(a){}]),e.directive("bsform",[function(){return{scope:{module:"=",layout:"=",prototype:"=",meta:"=",data:"=",action:"=",beforeSetModel:"=",init:"=",storage:"=",validators:"=",onsettings:"="},bindToController:!0,restrict:"E",replace:!1,controller:"uiFormController",controllerAs:"module",link:function(a,b,e){var f=a.$new();f.component=new c.FormContainer({replaceParent:!0,context:"angular",beforeAdd:function(a,b){},beforeRemove:function(b){var c=f.component,e=f.module;f.component=null,f.module=null,f.$destroy();var g=a.$new();f.component=null,g.component=c,g.module=e,g.$on("$destroy",d.bind(g)),f=g},beforeSetModel:f.module.beforeSetModel,afterModelCreated:f.module.init,onSettings:f.module.onsettings,storageName:f.module.storage,validators:f.module.validators},f.module.layout,f.module.meta||f.module.prototype,f.module.data,f.module.module),f.component.action=f.module.action,f.component.render(b),f.$on("$destroy",d.bind(f))}}}]);var e=angular.module("phoenix.ui");e.controller("uiFormCtrlController",["$scope",function(a){}]),e.directive("widgetForm",[function(){return{scope:{module:"="},bindToController:!0,restrict:"E",replace:!0,controller:"uiFormCtrlController",controllerAs:"module",link:function(a,b,e){var f=a.$new(),g=f.module.module.data.form;f.component=new c.FormContainerController({replaceParent:!0,context:"angular",beforeAdd:function(a,b){},beforeRemove:function(b){var c=f.component,e=f.module;f.component=null,f.module=null,f.$destroy();var g=a.$new();f.component=null,g.component=c,g.module=e,g.$on("$destroy",d.bind(g)),f=g}},g.name,g.meta,g.controller,f.module.module),f.component.render(b),f.$on("$destroy",d.bind(f))}}}])}}(Phoenix||(Phoenix={}));
//# sourceMappingURL=angular.form.js.map
var Phoenix;!function(a){if(angular){var b=a.utils,c=a.ui,d=angular.module("phoenix.ui");d.directive("googlechart",[function(){return{scope:{data:"=",config:"="},restrict:"E",replace:!0,link:function(a,d,e){a.component=new c.GoogleChart({replaceParent:!0}),a.component.props.config=a.config,a.component.props.data=a.data,a.component.render(d),a.$on("$destroy",function(){b.log("destroy google chart","scope"),a.component&&a.component.destroy()}),a.$watch("data",function(){a.component.props.data=a.data})}}}])}}(Phoenix||(Phoenix={}));
//# sourceMappingURL=angular.google-chart.js.map
var Phoenix;!function(a){if(angular){var b=a.utils,c=a.ui,d=angular.module("phoenix.ui");d.directive("headerMenu",[function(){return{scope:{bodyPlace:"@",backButton:"=",logoutButton:"=",leftMenuButton:"=",leftMenuPlace:"@",topMenuButton:"=",rightMenuButton:"=",topMenuPlace:"@",rightMenuPlace:"@"},restrict:"E",replace:!0,compile:function(a,d){return{pre:function(a,d,e){var f={bodyId:a.bodyPlace,backButton:a.backButton,leftMenuButton:a.leftMenuButton,rightMenuButton:a.rightMenuButton,topMenuButton:a.topMenuButton,leftMenuPlace:a.leftMenuPlace,rightMenuPlace:a.rightMenuPlace,topMenuPlace:a.topMenuPlace,disconnectButton:a.logoutButton,replaceParent:!0};a.component=new c.Header({},f),a.component.render(d),a.$on("$destroy",function(){b.log("destroy header","scope"),a.component&&a.component.destroy()})},post:function(a,b,c){}}}}}])}}(Phoenix||(Phoenix={}));
//# sourceMappingURL=angular.header.js.map
var Phoenix;!function(a){if(angular){var b=angular.module("phoenix.ui");b.directive("widgetHtml",["$compile",function(a){return{scope:{props:"=",data:"="},restrict:"E",replace:!0,link:function(b,c,d){var e=angular.element("<div ng-include=\"'"+b.props.data.template+'\'" props="props" data="data"></div>');a(e)(b),c.replaceWith(e)}}}])}}(Phoenix||(Phoenix={}));
//# sourceMappingURL=angular.html.js.map
var Phoenix;!function(a){if(angular){var b=a.utils,c=a.ui,d=angular.module("phoenix.ui");d.directive("widgetImageMenuItem",[function(){return{scope:{module:"="},restrict:"E",replace:!0,compile:function(a,d){return{pre:function(a,d,e){a.component=new c.ImageMenuItem({},$.extend(!0,{},a.module.props.data.menu)),a.component.module=a.module,a.component.render(d),a.$on("$destroy",function(){b.log("destroy image menu item","scope"),a.component&&a.component.destroy()})},post:function(a,b,c){}}}}}])}}(Phoenix||(Phoenix={}));
//# sourceMappingURL=angular.image.menu.item.js.map
var Phoenix;!function(a){if(angular){var b=a.utils,c=angular.module("phoenix.ui");c.directive("widgetJson",[function(){return{scope:{props:"=",data:"="},restrict:"E",replace:!0,template:'<code style="display: block; white-space: pre;">Data = {{data | json}}</code>',link:function(a,c,d){b.log("create Json","scope"),a.$on("$destroy",function(){b.log("destroy Json","scope")})}}}])}}(Phoenix||(Phoenix={}));
//# sourceMappingURL=angular.json.js.map
var Phoenix;!function(a){if(angular){var b=a.utils,c=a.render,d=a.ui,e=function(){var a=this;b.log("destroy listview","scope"),a.component&&a.component.destroy()},f=angular.module("phoenix.ui");f.controller("uiWidgetListViewController",["$scope",function(a){}]),f.directive("widgetListview",["$compile",function(a){return{scope:{module:"=",props:"=",data:"=",phone:"=",itemclick:"=",beforeRenderItems:"=",afterRenderItems:"="},bindToController:!0,restrict:"E",replace:!0,controller:"uiWidgetListViewController",controllerAs:"module",link:function(c,f,g){var h=c.$new();h.component=new d.ListView(h.module.props,{replaceParent:!0,context:"angular",beforeAdd:function(c,d){b.log("compile listview","scope"),a(c)(h)},clickItem:h.module.itemclick,beforeRenderItems:h.module.beforeRenderItems,afterRenderItems:h.module.afterRenderItems,beforeRemove:function(a){var b=h.component,d=h.module;h.component=null,h.module=null,h.$destroy();var f=c.$new();h.component=null,f.component=b,f.module=d,f.$on("$destroy",e.bind(f)),h=f}},h.module.module),h.component.render(f),h.$on("$destroy",e.bind(h))}}}]);var g=function(a,b,c,d){a.push("<listviewitem-"+b+" item=component.props.items["+d+"]></listviewitem-"+b+">")};c.register("angular","widget.listview.item",g)}}(Phoenix||(Phoenix={}));
//# sourceMappingURL=angular.listview.js.map
var Phoenix;!function(a){if(angular){var b=a.utils,c=angular.module("phoenix.ui");c.directive("listviewitemTest",[function(){return{scope:{item:"=",authoring:"="},restrict:"E",replace:!0,template:"<div><h4>{{::item.title}}</h4><p>{{::item.description}}</p></div>",link:function(a,c,d){a.$on("$destroy",function(){b.log("destroy listviewitemTest","scope")})}}}])}}(Phoenix||(Phoenix={}));
//# sourceMappingURL=angular.item-test.js.map
var Phoenix;!function(a){if(angular){var b=(a.customData,angular.module("phoenix.ui"));b.directive("widgetPhoenixMap",[function(){return{scope:{props:"=",data:"=",module:"="},restrict:"E",controller:["$scope",function(a){a.props.data.map.height=a.props.data.map.height||a.props.$height||400,a.callback=function(b){b?a.module.noData(!1):a.module.noData(!0)}}],template:'<map ng-style="{\'height\': props.data.map.height + \'px\'}" config="props.data.map" address="data.dataset.address" callback="callback"></map>'}}])}}(Phoenix||(Phoenix={}));
//# sourceMappingURL=angular.main.js.map
var Phoenix;!function(a){if(angular){var b=(a.utils,a.ui),c=a.dom,d=angular.module("phoenix.ui");d.directive("map",[function(){return{scope:{config:"=",address:"=",callback:"="},restrict:"E",template:'<div class="bs-map" ng-style="{\'height\': config.height + \'px\'}"  ng-hide="nodata"></div>',controller:["$scope",function(a){a.config.height=a.config.height||400}],link:function(a,d,e){var f=c.query(d.get(0),".bs-map");a.map=null,a.config=a.config||{},a.config.type="gm"==a.config.type?a.config.type:"om",a.$watch("address",function(){if(a.address){if(!a.map)switch(a.config.type){case"gm":a.map=b.googleMaps({},a.callback);break;case"om":a.map=b.openStreetMap({},a.callback)}a.map&&(a.map.map||a.map.initMap(f),a.map.addMarkerByAddress(a.address))}},!0)}}}])}}(Phoenix||(Phoenix={}));
//# sourceMappingURL=angular.map-controller.js.map
var Phoenix;!function(a){if(angular){var b=a.utils,c=a.ui,d=angular.module("phoenix.ui");d.directive("moduleTitle",[function(){return{scope:{data:"="},restrict:"E",replace:!0,compile:function(a,d){return{pre:function(a,d,e){a.component=new c.ModuleTitle({replaceParent:!0},a.data),a.component.render(d),a.$on("$destroy",function(){b.log("destroy tabs","scope"),a.component&&a.component.destroy()})}}}}}])}}(Phoenix||(Phoenix={}));
//# sourceMappingURL=angular.module-title.js.map
var Phoenix;!function(a){if(angular){var b=a.utils,c=a.ui,d=angular.module("phoenix.ui");d.directive("planningchart",[function(){return{scope:{data:"=",config:"=",onLink:"="},restrict:"E",replace:!0,link:function(a,d,e,f){a.component=new c.PlanningChart(f),a.component.beforeExecuteLink=a.onLink,a.component.render(d),a.$on("$destroy",function(){b.log("destroy planning chart","scope"),a.component&&a.component.destroy()}),a.$watch("data",function(){a.component.data=a.data})}}}])}}(Phoenix||(Phoenix={}));
//# sourceMappingURL=angular.google-chart.js.map
var Phoenix;!function(a){if(angular){var b=a.utils,c=a.tabs,d=angular.module("phoenix.ui");d.directive("tabs",[function(){return{scope:{tabs:"="},restrict:"E",replace:!0,compile:function(a,d){return{pre:function(a,d,e){a.component=new c.Tabs({replaceParent:!0},a.tabs),a.component.render(d),a.$on("$destroy",function(){b.log("destroy tabs","scope"),a.component&&a.component.destroy()})}}}}}]),d.directive("widgetTabs",[function(){return{scope:{module:"="},restrict:"E",replace:!0,compile:function(a,d){return{pre:function(a,d,e){a.component=new c.Tabs({replaceParent:!0},a.module.props.data.tabs),a.component.render(d),a.$on("$destroy",function(){b.log("destroy tabs","scope"),a.component&&a.component.destroy()})}}}}}])}}(Phoenix||(Phoenix={}));
//# sourceMappingURL=phoenix.widgets.angular.min.js.map